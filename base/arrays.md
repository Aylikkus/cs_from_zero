# Массивы


## Что такое массив?

Представьте себе комнату в студенческом общежитии. В данной комнате может проживать в большинстве случаев до 4-ёх студентов. Если мы попытаемся это спроецировать в данном контексте, то можно сказать что массивом является комната, она содержит в себе однородные данные "студенты", при этом размер у массива фиксированный, т.е. мы не можем добавить больше чем 4 студента, при этом если у нас проживает в данной комнате не 4, а 3 студента, то 4-ый просто пустой.

Теперь можно перейти к более точному определению. Массив - это структура данных, которая представляет собой однородную, фиксированную по размеру и конфигурации совокупность элементов, упорядоченных по номерам. Мы разобрались что означает однородный (в комнате могут проживать только студенты), фиксированный по размеру тоже (4 элемента, некоторые элементы могут быть пустые, но они всё равно существуют в контексте комнаты). Фиксированный по конфигурации означает что доступ к массиву у нас осуществляется в определённом порядке (например доступ к комнате осуществляется только через дверь). Упорядоченный по номерам означает что у каждого студента в комнате есть свой порядковый номер (первый, второй, третий и четвёртый).

## Одномерный массив

Для представления и доступа к массиву у нас всегда фигурируют квадратные скобки. Для объявления массива мы пишем тип данных и квадратные скобки, затем следует имя массива. Массив это такая же переменная, только она содержит в себе множество однородных данных. Рассмотрим пример объявления:

```csharp
int[] arr;
```

Таким образом мы объявили, что у нас есть массив с целочисленными значениями. Как и с переменной, он пустой, под него не было выделено памяти (не путать с `null`, это разные вещи). Теперь рассмотри как его проинициализировать:

```csharp
arr = new int[5];
```

Теперь у нас есть целочисленный массив с 5-ю значениями. Для того чтобы обратиться к элементу в массиве нам нужно написать имя массива и в квадратных скобках цифру, к которой мы хотим обратиться:

```csharp
arr[0] = 10;
```

Важно заметить, что нумерация чисел в массиве в 99% языков программирования начинается именно с нуля, а не с единицы. Обратившись подобным образом мы присвоили первому значению в массиве 10. Можно заметить что максимальная цифра к которой мы можем обратиться является четвёрка (пять минус один). При этом когда мы говорим про размер массива, то пользуемся такой же обычной логикой, как и всегда (размер у данного массива пять).

Рассмотрим другие примеры инициализации массива:

```csharp
int[] arr = new int[5] { 1, 2, 3, 4, 5 };
```

```csharp
int[] arr = new int[] { 1, 2, 3, 4, 5 };
```

```csharp
int[] arr = { 1, 2, 3, 4, 5 };
```

В данном примере мы проинициализировали целочисленный массив с пятью значениями, при этом выставили эти значения сразу.

## Цикл `foreach`

Помимо обычного цикла `for` существует также цикл `foreach`. Переводится он как "для всех". Важно уточнить что в данном случае мы не можем изменять значения, которые предоставляет нам данный цикл, они предоставляются только для чтения, так что если вам нужно изменять значения в массиве, используйте обычный `for`. Рассмотри два примера в этими двумя циклами.

```csharp
int[] arr = new int[] {1, 2, 3, 4, 5};

for (int i = 0; i < arr.Length; i++)
{
    Console.WriteLine(arr[i]);
} // Вывод: 1 2 3 4 5

// arr.Length позволяет нам получить длину массива
// Пока что лучше просто запомнить
```

```csharp
int[] arr = new int[] {1, 2, 3, 4, 5};

foreach (int i in arr)
{
    Console.WriteLine(i);
} // Вывод: 1 2 3 4 5
```

Как можно заметить цикл `for` более универсальный, при этом цикл `foreach` более приземлённый. Если бы нам например нужно было бы выводить цифры с конца, то мы бы воспользовались циклом `for`.

## Прямоугольный массив

То, что мы рассмотрели называется одномерным массивом (данные идут в линии, друг за другом). Помимо этого мы можем представляет данные в виде прямоугольника, где есть ряды и колонки (прямо как в Microsoft Excel). Такие массивы называюся прямоугольными, или квадратными (если размер ряда равен размеру колонки). Для инициализации таких массивов нам нужно написать запятую в квадартных скобках при объявлении массива.

```csharp
int[,] arr2D = new int[2, 5];
```

Мы проинициализировали прямоугольный массив, при этом размер колонки у него будет два, а размер ряда пять. Представить его можно так:

| |Колонка 0 |Колонка 1|Колонка 2|Колонка 3|Колонка 4|
|---|---|---|---|---|---|
|Ряд 0|0  |0  |0  |0  |0  |
|Ряд 1|0  |0  |0  |0  |0  |

Рассмотрим другие примеры инициализации:

```csharp
int[,] arr2D = new int[2, 5] {{1, 3 , 6, 7, 9}, {10, 11, 13, 15, 16}};
```

```csharp
int[,] arr2D = new int[] {{1, 3 , 6, 7, 9}, {10, 11, 13, 15, 16}};
```

```csharp
int[,] arr2D = {{1, 3 , 6, 7, 9}, {10, 11, 13, 15, 16}};
```

| |Колонка 0 |Колонка 1|Колонка 2|Колонка 3|Колонка 4|
|---|---|---|---|---|---|
|Ряд 0|1  |3  |6  |7  |9  |
|Ряд 1|10  |11  |13  |15  |16  |

Помимо двумерных у нас могут быть и трехмерные, и четырёхмерные (правда представить их тут будет уже сложнее). Для того чтобы объявить n-мерный массив мы пишем в квадратных скобках `n - 1` запятых. Например так выглядит объявление трёхмерного массива:

```csharp
int[,,] arr3D;
```

Правила для него будут такие же как и для обычного двумерного массива, только добавилось новое измерение.

---

Для прохода по n-мерному массиву у нас могут использоваться такие же циклы `for` и `foreach`. `foreach` проходит массив постепенно начиная от первого измерения и заканчивая последним (в случае с двумерным каждый ряд и передвигаясь на следующую колонку, если представлять это в виде таблицы). Или также как мы его и объявляем.

```csharp
int[,] arr2D = new int[2, 5] {{1, 3 , 6, 7, 9}, {10, 11, 13, 15, 16}};

foreach (int i in arr2D)
{
	Console.WriteLine(i);
} // Вывод: 1 3 6 7 9 10 11 13 15 16
```

Для прохода с помощью цикла `for` нам либо понадобится узнать размер каждого измерения, либо знать его заранее. Для этих целей у нас есть метод (или функция) `GetUpperBound(<измерение>)`. Если же и количество измерений неизвестно, то есть свойство `Rank`, правда я сомневаюсь что вам придётся это использовать. =)

```csharp
int[,] arr2D = new int[2, 5] {{1, 3 , 6, 7, 9}, {10, 11, 13, 15, 16}};

int bound0 = arr2D.GetUpperBound(0);
int bound1 = arr2D.GetUpperBound(1);

for (int i = 0; i <= bound0; i++)
{
	for (int j = 0; j <= bound1; j++)
	{
		Console.Write(arr2D[i, j] + " ");	
	}
	Console.WriteLine();
} // Красивый вывод, выводит также как и в таблице, где каждый ряд с новой строки
```

## Зубчатый массив

Можно было бы подумать, а можем ли мы объявить массив массивов, и да, мы можем. Такой концепт называется зубчатым массивом, иногда название может варьироваться, но в общем случае, это просто массив с массивами. Для его объявления нам нужно написать ещё одну квадратную скобку.

```csharp
int[][] jaggeredArr;
```

Квадратные скобки при этом мы можем писать бесконечно (хоть массив с массивами, где у нас другие массивы и так далее). Для его инициализации мы пишем в первой квадратной скобке число массивов (их также можно называть строками, как в таблице).

```csharp
int[][] jaggeredArr = new int[3][];
```

В данном случае мы объявили зубчатый массив с тремя строками. Для доступа к ним мы пишем имя массива и в квадратной скобке индекс массива.

```csharp
int[][] jaggeredArr = new int[3][];
jaggeredArr[0] = new int[4];
jaggeredArr[0][2] = 10;
```

Можно увидеть взаимосвязь. При обращении к зубчатому массиву мы получаем такой же массив, при этом у него мы также можем обратиться к различным элементам. Рассмотрим другие примеры инициализации.

```csharp
int[][] jaggeredArr = new int[3][] {new int[2], new int[3], new int[4]};
```

```csharp
int[][] jaggeredArr = new int[3][] {new int[2] {1, 3}, new int[3] {3, 5 ,3}, new int[4] {7, 10, 9, 8}};
```

```csharp
int[][] jaggeredArr = new int[3][] {new int[] {1, 3}, new int[] {3, 5 ,3}, new int[] {7, 10, 9, 8}};
```

В общем-то внутри мы инициализируем такие же массивы.
